@model StudentSquads.ViewModels.NewPersonViewModel
@{
	ViewBag.Title = "PersonForm";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Личные данные</h2>
@using (Html.BeginForm("Save", "People", new { enctype = "multipart/form-data" }))
{
	@Html.ValidationSummary()
	<button type="submit" class="btn btn-warning">Сохранить</button>
	@*<p>
			@Html.ActionLink("Сохранить", "New", "Movies", null, new { @class = "btn btn-warning" })
		</p>*@
	@Html.HiddenFor(m => m.Id)
	<div>
		<div class="col-xs-4" float="left">
			<div class="form-group">
				@Html.LabelFor(m => m.Person.LastName)
				@Html.TextBoxFor(m => m.Person.LastName, new { @class = "form-control" })
				@Html.ValidationMessageFor(m => m.Person.LastName)
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.FirstName)
				@Html.TextBoxFor(m => m.Person.FirstName, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.PatronymicName)
				@Html.TextBoxFor(m => m.Person.PatronymicName, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.FIOinGenetiv)
				@Html.TextBoxFor(m => m.Person.FIOinGenetiv, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.DateofBirth)
				@Html.TextBoxFor(m => m.Person.DateofBirth, "{0:dd.MM.yyyy}", new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.PlaceofStudy)
				@Html.TextBoxFor(m => m.Person.PlaceofStudy, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.FormofStudy)
				@Html.TextBoxFor(m => m.Person.FormofStudy, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.PhoneNumber)
				@Html.TextBoxFor(m => m.Person.PhoneNumber, new { @class = "form-control" })
			</div>
			@*Тут лучше поменять на что-то более стоящее*@
			<div class="checkbox">
				<label>
					@Html.CheckBoxFor(m => m.Person.Sex) Пол Ж(без отметки) М(с отметкой)
				</label>
			</div>

		</div>
		<div class="col-xs-4" float="left">
			<div class="form-group">
				@Html.LabelFor(m => m.Person.PassportSerie)
				@Html.TextBoxFor(m => m.Person.PassportSerie, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.PassportNumber)
				@Html.TextBoxFor(m => m.Person.PassportNumber, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.PassportGiven)
				@Html.TextBoxFor(m => m.Person.PassportGiven, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.DateofIssue)
				@Html.TextBoxFor(m => m.Person.DateofIssue, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.DepartmentCode)
				@Html.TextBoxFor(m => m.Person.DepartmentCode, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.CityofBirth)
				@Html.TextBoxFor(m => m.Person.CityofBirth, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.RegistrationPlace)
				@Html.TextBoxFor(m => m.Person.RegistrationPlace, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.file)
				@Html.TextBoxFor(m => m.file, new { @class = "custom-file-input", type = "file", name = "upload" })
			</div>
		</div>
		<div class="col-xs-4" float="left">
			<div class="form-group">
				@Html.LabelFor(m => m.Person.INN)
				@Html.TextBoxFor(m => m.Person.INN, new { @class = "form-control" })
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.Person.Snils)
				@Html.TextBoxFor(m => m.Person.Snils, new { @class = "form-control" })
			</div>

			<div class="form-group">
				@Html.LabelFor(m => m.Person.Email)
				@Html.TextBoxFor(m => m.Person.Email, new { @class = "form-control" })
			</div>
			@*Тут скорее надо заблокировать, чем не отображать*@
			@if (Model.Person is null)
			{<div class="checkbox" id="alreadymember">
					<label disabled>
						@Html.CheckBoxFor(m => m.AlreadyMember) Уже являетесь членом организации?
					</label>
				</div>
				<div class="form-group" disabled>
					@Html.LabelFor(m => m.SquadId)
					@Html.DropDownListFor(m => m.SquadId, new SelectList(Model.Squads, "Id", "Name"), "", new { @class = "form-control" })
				</div>
				<div class="form-group">
					@Html.LabelFor(m => m.Person.MembershipNumber)
					@Html.TextBoxFor(m => m.Person.MembershipNumber, new { @class = "form-control" })
				</div>
				<div class="checkbox" id="ishead">
					<label disabled>
						@Html.CheckBoxFor(m => m.AlreadyMember) Являетесь членом ком. состава ЛСО?
					</label>
				</div>
				<div class="form-group" disabled>
					@Html.LabelFor(m => m.HeadsOfStudentSquads.MainPositionId)
					@Html.DropDownListFor(m => m.HeadsOfStudentSquads.MainPositionId, new SelectList(Model.MainPositions, "Id", "Name"), "", new { @class = "form-control" })
				</div>
			}
		</div>

	</div>
	@Html.AntiForgeryToken()

}

@section scripts
{
	@Scripts.Render("~/bundles/jqueryval")
}

